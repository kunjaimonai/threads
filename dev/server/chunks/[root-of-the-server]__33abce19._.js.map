{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/kunjai/Documents/Projects/fake/app/api/analyze/sneaker/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\n\nexport const runtime = \"nodejs\";\n\nexport async function POST(req: Request) {\n  try {\n    const incoming = await req.formData();\n    const shoe_id = incoming.get(\"shoe_id\");\n    const file = incoming.get(\"file\") as File | null;\n\n    if (!shoe_id || !file) {\n      return NextResponse.json({ error: \"shoe_id and file are required\" }, { status: 400 });\n    }\n\n    const buffer = await file.arrayBuffer();\n    const forward = new FormData();\n    forward.append(\"shoe_id\", String(shoe_id));\n    forward.append(\"file\", new Blob([buffer], { type: file.type }), file.name);\n\n    const res = await fetch(\"http://127.0.0.1:8000/analyze/sneaker_stitches\", {\n      method: \"POST\",\n      body: forward,\n    });\n\n    if (!res.ok) {\n      const errorText = await res.text();\n      return NextResponse.json({ error: errorText || `Status ${res.status}` }, { status: res.status });\n    }\n\n    const data = await res.json();\n    return NextResponse.json(data, { status: 200 });\n  } catch (err: any) {\n    console.error(\"API Error:\", err);\n    return NextResponse.json({ error: String(err.message) }, { status: 502 });\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA;;AAEO,MAAM,UAAU;AAEhB,eAAe,KAAK,GAAY;IACrC,IAAI;QACF,MAAM,WAAW,MAAM,IAAI,QAAQ;QACnC,MAAM,UAAU,SAAS,GAAG,CAAC;QAC7B,MAAM,OAAO,SAAS,GAAG,CAAC;QAE1B,IAAI,CAAC,WAAW,CAAC,MAAM;YACrB,OAAO,iTAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAgC,GAAG;gBAAE,QAAQ;YAAI;QACrF;QAEA,MAAM,SAAS,MAAM,KAAK,WAAW;QACrC,MAAM,UAAU,IAAI;QACpB,QAAQ,MAAM,CAAC,WAAW,OAAO;QACjC,QAAQ,MAAM,CAAC,QAAQ,IAAI,KAAK;YAAC;SAAO,EAAE;YAAE,MAAM,KAAK,IAAI;QAAC,IAAI,KAAK,IAAI;QAEzE,MAAM,MAAM,MAAM,MAAM,kDAAkD;YACxE,QAAQ;YACR,MAAM;QACR;QAEA,IAAI,CAAC,IAAI,EAAE,EAAE;YACX,MAAM,YAAY,MAAM,IAAI,IAAI;YAChC,OAAO,iTAAY,CAAC,IAAI,CAAC;gBAAE,OAAO,aAAa,CAAC,OAAO,EAAE,IAAI,MAAM,EAAE;YAAC,GAAG;gBAAE,QAAQ,IAAI,MAAM;YAAC;QAChG;QAEA,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,OAAO,iTAAY,CAAC,IAAI,CAAC,MAAM;YAAE,QAAQ;QAAI;IAC/C,EAAE,OAAO,KAAU;QACjB,QAAQ,KAAK,CAAC,cAAc;QAC5B,OAAO,iTAAY,CAAC,IAAI,CAAC;YAAE,OAAO,OAAO,IAAI,OAAO;QAAE,GAAG;YAAE,QAAQ;QAAI;IACzE;AACF"}}]
}